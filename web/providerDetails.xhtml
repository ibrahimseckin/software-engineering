
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                template="template.xhtml">

    <ui:define name="title">
        <title> Provider Details </title>
    </ui:define>

    <ui:define name="metadata">
        #{navbar.setActive(53)}
    </ui:define>
    <ui:define name="content">
        <h3 class="page-header col-sm-offset-1"><h:outputText value="#{detailsProvider.provider.pname}"/></h3>
        <div class ="col-sm-4 col-sm-offset-1">
            <p> City: <h:outputText value="#{detailsProvider.provider.city}"/></p>
            <p> Address: <h:outputText value="#{detailsProvider.provider.address}"/></p>
            <p> Phone Number: <h:outputText value="#{detailsProvider.provider.phoneNumber}"/></p>
            <p> E-mail: <h:outputText value="#{detailsProvider.provider.email}"/></p>
            <p> Rating: <h:outputText value="#{detailsProvider.provider.rate}"/></p>
        </div>
         
        <div>
           <div class="col-lg-6">
               <p:dataList value="#{detailsProvider.commentList}" var="comment" type="definition" 
                         emptyMessage="There is not comment for this provider" lazy="true">
            <div class="row">
                <div class="col-md-7 col-md-offset-1" style="padding:5px">
                 #{comment.firstname}  #{comment.surname} (#{comment.username})
                </div>
                
            </div>
            
            <div class="row">
                <div class="col-md-7 col-md-offset-1 small">    
                    #{comment.content}
                </div>
                
            <div class="col-md-5"></div>
            </div>
                 <p:separator id="separator"/> 
            <f:facet name="header">
                <h4>Comments</h4>
            </f:facet>
          </p:dataList>
         </div>
           
        </div>
        
        <div>
            <p:outputPanel rendered="#{navbar.loggedIn}">
            <h:form class="form-horizontal" id="offer">
                <p:growl id="growl" sticky="true" showDetail="true" life="3000" /> 
                <h3>Comment to Provider</h3>
                            <div class="form-group">
                                <h:outputLabel for="explain" styleClass="col-sm-2 col-sm-offset-1 control-label"/>
                                <div class="col-sm-6">
                                    <h:inputTextarea id="explain" value="#{detailsProvider.message}" styleClass="form-control"/>
                                </div></div>
                <p:commandButton id="SendButton" value="Send Comment" action="#{detailsProvider.SendMessage(detailsProvider.message)}" />
                            
            </h:form>
            </p:outputPanel>
           </div>
           
             
         
    </ui:define>
    
    
</ui:composition>